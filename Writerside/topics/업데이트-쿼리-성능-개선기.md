# 업데이트 쿼리 성능 개선기

업무 중에 이미지 업로드 상태 정보를 가진 테이블과 관련하여 장애가 발생하는 상황이 있었다.

이 레코드는 처음 이벤트가 발생했을 때 Insert 되고, 해당 이미지의 업로드가 끝나면 Update 되는 방식으로 동작한다.

매번 업로드 상태를 업데이트 하기 위해 Update 쿼리를 날리지는 않고, 스케줄러를 통해 5분에 한 번씩 업로드가 끝난 이미지를 조회하여 업데이트 쿼리를 날리는 방식으로 동작하고 있다.